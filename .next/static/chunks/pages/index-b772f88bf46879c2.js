(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(78937)}])},78937:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var r=t(28520),s=t.n(r),a=t(85893),o=t(9008),i=t(25675),c=t(3283),u=t.n(c),d=new(u())(u().givenProvider||"wss://mainnet.infura.io/ws/v3/28696900a2cf490eb160741dc63e4707"),f=t(67294),l=t(95565),h=t(26143);function m(e,n,t,r,s,a,o){try{var i=e[a](o),c=i.value}catch(u){return void t(u)}i.done?n(c):Promise.resolve(c).then(r,s)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function o(e){m(a,r,s,o,i,"next",e)}function i(e){m(a,r,s,o,i,"throw",e)}o(void 0)}))}}var v=new h.ZP({provider:d.currentProvider,ensAddress:(0,h.OL)("1")}),x=function(e){var n=e.address,t=(0,f.useState)(),r=t[0],o=t[1],i=(0,f.useState)(),c=i[0],u=i[1];(0,f.useEffect)(function(){var e=p(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getName(n);case 2:(t=e.sent).name&&o(t.name);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[n]),(0,f.useEffect)(function(){var e=p(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,v.name(r).getText("avatar");case 3:(n=e.sent)&&u(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[r]);var d=n.substr(0,8)+"..."+n.substr(-4),h=(0,a.jsx)(l.ZP,{diameter:32,seed:(0,l.Ds)(n)});return(0,a.jsxs)("div",{className:"eth-name",children:[(0,a.jsx)("div",{className:"icon",children:c?(0,a.jsx)("img",{src:c}):h}),(0,a.jsxs)("div",{className:"name",children:[(0,a.jsx)("span",{className:"primary",children:r||d}),(0,a.jsx)("span",{className:"secondary",children:r?d:""})]})]})},g=function(e){var n=e.accounts,t=e.isLoggedIn,r=e.connect;return t?(0,a.jsx)(x,{address:n[0]}):(0,a.jsx)("button",{onClick:r,children:"Connect"})},j=function(e){var n=e.isLoggedIn,t=e.accounts,r=e.address;return t[0]===r?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("button",{disabled:!n,onClick:function(){if(n){var e=d.utils.toWei("0.01","ether");window.ethereum.request({method:"eth_sendTransaction",params:[{from:t[0],to:r,value:d.utils.toHex(e)}]})}else alert("Please connect your wallet!")},children:"Tip 0.01 ETH"})},w=function(e){var n=e.number,t=e.answer,r=e.accounts,s=e.isLoggedIn,o={__html:t.reply};return(0,a.jsxs)("div",{className:"answer",children:[(0,a.jsxs)("h3",{children:["Reply #",n]}),(0,a.jsx)("div",{className:"main",dangerouslySetInnerHTML:o}),(0,a.jsxs)("div",{className:"meta",children:[(0,a.jsx)(x,{address:t.account}),(0,a.jsx)(j,{isLoggedIn:s,accounts:r,address:t.account})]})]})};function y(e,n,t,r,s,a,o){try{var i=e[a](o),c=i.value}catch(u){return void t(u)}i.done?n(c):Promise.resolve(c).then(r,s)}function b(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k=function(e){var n=e.accounts,t=e.setAnswers,r=e.isLoggedIn,o=(0,f.useState)(""),i=o[0],c=o[1],u=function(e){var r,a=(r=s().mark((function e(r){var a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a="This message is to verify that you are the person posting this reply.",e.next=4,d.eth.personal.sign(a,n[0]);case 4:o=e.sent,u={questionId:1,reply:i,account:n[0],confirmationMessage:a,signedMessage:o},fetch("/api/answers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){t((function(n){return b(n).concat([e])})),c("")})).catch((function(e){console.error(e)}));case 7:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,s){var a=r.apply(e,n);function o(e){y(a,t,s,o,i,"next",e)}function i(e){y(a,t,s,o,i,"throw",e)}o(void 0)}))});return function(){return a.apply(this,arguments)}}();return(0,a.jsxs)("form",{onSubmit:u,className:"answer-form",children:[(0,a.jsx)("textarea",{placeholder:"Please be nice and courteous in your answers!",value:i,onChange:function(e){return c(e.target.value)}}),(0,a.jsx)("button",{disabled:!r,children:"Reply"})]})};function N(e,n,t,r,s,a,o){try{var i=e[a](o),c=i.value}catch(u){return void t(u)}i.done?n(c):Promise.resolve(c).then(r,s)}function P(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function o(e){N(a,r,s,o,i,"next",e)}function i(e){N(a,r,s,o,i,"throw",e)}o(void 0)}))}}function _(){var e=(0,f.useState)([]),n=e[0],t=e[1],r=(0,f.useState)(!1),c=r[0],u=r[1],d=(0,f.useState)(!0),l=d[0],h=d[1],m=(0,f.useState)([]),p=m[0],v=m[1];(0,f.useEffect)((function(){n.length>0?u(!0):u(!1)}),[n]),(0,f.useEffect)(function(){var e=P(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_accounts"});case 2:n=e.sent,t(n),window.ethereum.on("accountsChanged",(function(e){t(e)})),fetch("/api/answers").then((function(e){return e.json()})).then((function(e){v(e.answers),h(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[]);var x=(0,a.jsx)("div",{className:"loading",children:"Loading answers..."});l||(x=p.map((function(e,t){return(0,a.jsx)(w,{number:t+1,answer:e,accounts:n,isLoggedIn:c},t+1)})));var j=function(){var e=P(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)("main",{children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h1",{children:"Potstop"}),(0,a.jsx)("form",{children:(0,a.jsx)("input",{type:"text",placeholder:"Search"})}),(0,a.jsx)(g,{accounts:n,isLoggedIn:c,connect:j})]}),(0,a.jsxs)("section",{className:"question",children:[(0,a.jsxs)("div",{className:"main",children:[(0,a.jsx)("h3",{children:"Feedback forum"}),(0,a.jsx)("h2",{children:"Looking for feedback as a beginner"}),(0,a.jsx)("p",{children:"Hey everyone, I'm a new potter, just 4 weeks into my journey, and I'm looking to get some feedback on what I've made so far. I'm particularly interested in how to make rustic looking bowls and pots, and I'd love to know what the best tools to use would be!"}),(0,a.jsxs)("div",{className:"slides",children:[(0,a.jsx)(i.default,{src:"/image-1.jpg",width:"600",height:"800"}),(0,a.jsx)(i.default,{src:"/image-2.jpg",width:"600",height:"800"}),(0,a.jsx)(i.default,{src:"/image-3.jpg",width:"600",height:"800"}),(0,a.jsx)(i.default,{src:"/image-4.jpg",width:"600",height:"800"})]})]}),(0,a.jsx)("div",{className:"meta",children:(0,a.jsxs)("div",{className:"eth-name",children:[(0,a.jsx)("img",{src:"https://ipfs.io/ipfs/QmbctVN8tPaDLiLysVDwThf7JTJhMejbSypZ4a3v5H2G3a",alt:"Avatar of riklomas.eth"}),(0,a.jsxs)("div",{className:"name",children:[(0,a.jsx)("span",{className:"primary",children:"riklomas.eth"}),(0,a.jsx)("span",{className:"secondary",children:"0xb25bf3...aaf4"})]})]})})]}),(0,a.jsxs)("section",{className:"answers",children:[x,(0,a.jsx)(k,{accounts:n,setAnswers:v,isLoggedIn:c})]}),(0,a.jsxs)(o.default,{children:[(0,a.jsx)("title",{children:"Looking for feedback as a beginner \u2013 Feedback forum \u2013 Potstop "}),(0,a.jsx)("meta",{property:"og:title",content:"Looking for feedback as a beginner on Potstop"}),(0,a.jsx)("meta",{property:"og:description",content:"This is a project on the SuperHi Crypto + Web3 for Creatives course"}),(0,a.jsx)("meta",{property:"og:image",content:"/social.png"})]})]})}},46601:function(){},89214:function(){},71922:function(){},2363:function(){},96419:function(){},56353:function(){},27790:function(){},69386:function(){},31616:function(){},29120:function(){},46586:function(){},6567:function(){},69862:function(){},40964:function(){},71408:function(){},23646:function(){}},function(e){e.O(0,[482,467,774,888,179],(function(){return n=78581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);